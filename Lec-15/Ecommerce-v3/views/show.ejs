<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- <link rel="stylesheet" type="text/css" href="css/starability-all.min.css"/> -->
    <link rel="stylesheet" href="/css/star.css">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">

</head>
<body>
    <h1>Displaying a perticuler Product</h1>

    <section class="row">
        <div class="col-6 border">

            <h1> <%=foundProduct.name%> </h1>
            <img src= "<%=foundProduct.img%>" >
            <h3> <%=foundProduct.price%> </h3>
            <p> <%=foundProduct.desc%> </p>  
            <!-- then go on index.ejs page last me hme show this btn bnayege jispr id ke through hm Perticuler product ko dekh payege and id hme jo  bhi hmare DB me hogi bhi milegi->   http://localhost:8080/products/65a026a9349399d87fde75eb-->
        </div>

        <div class="col-6 border">
            <h1>Review Rating Form</h1>
            <form action="/products/<%=foundProduct._id%>/rating" method="post">
                <label for="star">Rating:</label>
                 <!-- <input type="range" min="0" max="5" name="rating" id="star"> -->
                 <fieldset class="starability-basic">
                    <input type="radio" id="no-rate" class="input-no-rate" name="rating" value="0" checked aria-label="No rating." />
                    <input type="radio" id="first-rate1" name="rating" value="1" />
                    <label for="first-rate1" title="Terrible">1 star</label>
                    <input type="radio" id="first-rate2" name="rating" value="2" />
                    <label for="first-rate2" title="Not good">2 stars</label>
                    <input type="radio" id="first-rate3" name="rating" value="3" />
                    <label for="first-rate3" title="Average">3 stars</label>
                    <input type="radio" id="first-rate4" name="rating" value="4" />
                    <label for="first-rate4" title="Very good">4 stars</label>
                    <input type="radio" id="first-rate5" name="rating" value="5" />
                    <label for="first-rate5" title="Amazing">5 stars</label>
                  </fieldset>

                 <br>
                <label for="text">Comment:</label>
                <textarea name="comment" id="text"  rows="3"></textarea>
                <br>
                <button type="submit">ADD Review</button>
            </form>
        </div>

        <!-- show Reviews-> rating and comment    loop lisliye use kiya bcz ek se jayad review and comment ho skte hai         foundProduct.reviews-> its an array -->
        <div class="ml-3 border">
            <% for(let review of foundProduct.reviews){%>
                <!-- <h2>"Rating: " <%=review.rating%></h2> -->
                <h2>Rating:</h2>
                <h2 class="starability-result" data-rating="<%=review.rating%>">
                    <%=review.rating%> 
                </h2>
                <h5>Comment:  <%=review.comment%></h5>
                <% if(review.createdAt){ %>       
                    <!-- <p><%= review.createdAt %></p> -->
                    <p><%= review.createdAt.toDateString() %></p>  <!-- convert to date--> 
                <% } %>

            <% } %>
        </div>

    </section>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>

</body>
</html>